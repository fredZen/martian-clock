shadow$provide.module$node_modules$d3_drag$dist$d3_drag=function(global$jscomp$0,require,module,exports$jscomp$0){(function(global,factory){"object"===typeof exports$jscomp$0&&"undefined"!==typeof module?factory(exports$jscomp$0,require("module$node_modules$d3_selection$dist$d3_selection"),require("module$node_modules$d3_dispatch$dist$d3_dispatch")):"function"===typeof define&&define.amd?define(["exports","d3-selection","d3-dispatch"],factory):factory(global.d3=global.d3||{},global.d3,global.d3)})(this,
function(exports,d3Selection,d3Dispatch){function noevent(){d3Selection.event.preventDefault();d3Selection.event.stopImmediatePropagation()}function nodrag(view){var root=view.document.documentElement;view=d3Selection.select(view).on("dragstart.drag",noevent,!0);if("onselectstart"in root)view.on("selectstart.drag",noevent,!0);else root.__noselect=root.style.MozUserSelect,root.style.MozUserSelect="none"}function yesdrag(view,noclick){var root=view.document.documentElement,selection=d3Selection.select(view).on("dragstart.drag",
null);noclick&&(selection.on("click.drag",noevent,!0),setTimeout(function(){selection.on("click.drag",null)},0));if("onselectstart"in root)selection.on("selectstart.drag",null);else root.style.MozUserSelect=root.__noselect,delete root.__noselect}function constant(x){return function(){return x}}function DragEvent(target,type,subject,id,active,x,y,dx,dy,dispatch){this.target=target;this.type=type;this.subject=subject;this.identifier=id;this.active=active;this.x=x;this.y=y;this.dx=dx;this.dy=dy;this._=
dispatch}function defaultFilter(){return!d3Selection.event.button}function defaultContainer(){return this.parentNode}function defaultSubject(d){return null==d?{x:d3Selection.event.x,y:d3Selection.event.y}:d}function defaultTouchable(){return"ontouchstart"in this}DragEvent.prototype.on=function(){var value=this._.on.apply(this._,arguments);return value===this._?this:value};exports.drag=function(){function drag(selection){selection.on("mousedown.drag",mousedowned).filter(touchable).on("touchstart.drag",
touchstarted).on("touchmove.drag",touchmoved).on("touchend.drag touchcancel.drag",touchended).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function mousedowned(){if(!touchending&&filter.apply(this,arguments)){var gesture=beforestart("mouse",container.apply(this,arguments),d3Selection.mouse,this,arguments);gesture&&(d3Selection.select(d3Selection.event.view).on("mousemove.drag",mousemoved,!0).on("mouseup.drag",mouseupped,!0),nodrag(d3Selection.event.view),d3Selection.event.stopImmediatePropagation(),
mousemoving=!1,mousedownx=d3Selection.event.clientX,mousedowny=d3Selection.event.clientY,gesture("start"))}}function mousemoved(){noevent();if(!mousemoving){var dx=d3Selection.event.clientX-mousedownx,dy=d3Selection.event.clientY-mousedowny;mousemoving=dx*dx+dy*dy>clickDistance2}gestures.mouse("drag")}function mouseupped(){d3Selection.select(d3Selection.event.view).on("mousemove.drag mouseup.drag",null);yesdrag(d3Selection.event.view,mousemoving);noevent();gestures.mouse("end")}function touchstarted(){if(filter.apply(this,
arguments)){var touches=d3Selection.event.changedTouches,c=container.apply(this,arguments),n=touches.length,i,gesture;for(i=0;i<n;++i)if(gesture=beforestart(touches[i].identifier,c,d3Selection.touch,this,arguments))d3Selection.event.stopImmediatePropagation(),gesture("start")}}function touchmoved(){var touches=d3Selection.event.changedTouches,n=touches.length,i,gesture;for(i=0;i<n;++i)if(gesture=gestures[touches[i].identifier])noevent(),gesture("drag")}function touchended(){var touches=d3Selection.event.changedTouches,
n=touches.length,i,gesture;touchending&&clearTimeout(touchending);touchending=setTimeout(function(){touchending=null},500);for(i=0;i<n;++i)if(gesture=gestures[touches[i].identifier])d3Selection.event.stopImmediatePropagation(),gesture("end")}function beforestart(id,container,point,that,args){var p=point(container,id),s,dx,dy,sublisteners=listeners.copy();if(d3Selection.customEvent(new DragEvent(drag,"beforestart",s,id,active,p[0],p[1],0,0,sublisteners),function(){if(null==(d3Selection.event.subject=
s=subject.apply(that,args)))return!1;dx=s.x-p[0]||0;dy=s.y-p[1]||0;return!0}))return function gesture(type){var p0=p;switch(type){case "start":gestures[id]=gesture;var n=active++;break;case "end":delete gestures[id],--active;case "drag":p=point(container,id),n=active}d3Selection.customEvent(new DragEvent(drag,type,s,id,n,p[0]+dx,p[1]+dy,p[0]-p0[0],p[1]-p0[1],sublisteners),sublisteners.apply,sublisteners,[type,that,args])}}var filter=defaultFilter,container=defaultContainer,subject=defaultSubject,
touchable=defaultTouchable,gestures={},listeners=d3Dispatch.dispatch("start","drag","end"),active=0,mousedownx,mousedowny,mousemoving,touchending,clickDistance2=0;drag.filter=function(_){return arguments.length?(filter="function"===typeof _?_:constant(!!_),drag):filter};drag.container=function(_){return arguments.length?(container="function"===typeof _?_:constant(_),drag):container};drag.subject=function(_){return arguments.length?(subject="function"===typeof _?_:constant(_),drag):subject};drag.touchable=
function(_){return arguments.length?(touchable="function"===typeof _?_:constant(!!_),drag):touchable};drag.on=function(){var value=listeners.on.apply(listeners,arguments);return value===listeners?drag:value};drag.clickDistance=function(_){return arguments.length?(clickDistance2=(_=+_)*_,drag):Math.sqrt(clickDistance2)};return drag};exports.dragDisable=nodrag;exports.dragEnable=yesdrag;Object.defineProperty(exports,"__esModule",{value:!0})})}
//# sourceMappingURL=module$node_modules$d3_drag$dist$d3_drag.js.map
