shadow$provide.module$node_modules$d3_zoom$dist$d3_zoom=function(global$jscomp$0,require,module,exports$jscomp$0){(function(global,factory){"object"===typeof exports$jscomp$0&&"undefined"!==typeof module?factory(exports$jscomp$0,require("module$node_modules$d3_selection$dist$d3_selection"),require("module$node_modules$d3_dispatch$dist$d3_dispatch"),require("module$node_modules$d3_drag$dist$d3_drag"),require("module$node_modules$d3_interpolate$dist$d3_interpolate"),require("module$node_modules$d3_transition$dist$d3_transition")):
"function"===typeof define&&define.amd?define("exports d3-selection d3-dispatch d3-drag d3-interpolate d3-transition".split(" "),factory):factory(global.d3=global.d3||{},global.d3,global.d3,global.d3,global.d3,global.d3)})(this,function(exports,d3Selection,d3Dispatch,d3Drag,d3Interpolate,d3Transition){function constant(x){return function(){return x}}function ZoomEvent(target,type,transform){this.target=target;this.type=type;this.transform=transform}function Transform(k,x,y){this.k=k;this.x=x;this.y=
y}function transform$jscomp$0(node){return node.__zoom||identity}function noevent(){d3Selection.event.preventDefault();d3Selection.event.stopImmediatePropagation()}function defaultFilter(){return!d3Selection.event.button}function defaultExtent(){var e=this;if(e instanceof SVGElement){e=e.ownerSVGElement||e;var w=e.width.baseVal.value;e=e.height.baseVal.value}else w=e.clientWidth,e=e.clientHeight;return[[0,0],[w,e]]}function defaultTransform(){return this.__zoom||identity}function defaultWheelDelta(){return-d3Selection.event.deltaY*
(d3Selection.event.deltaMode?120:1)/500}function defaultTouchable(){return"ontouchstart"in this}function defaultConstrain(transform$$1,extent,translateExtent){var dx0=transform$$1.invertX(extent[0][0])-translateExtent[0][0],dx1=transform$$1.invertX(extent[1][0])-translateExtent[1][0],dy0=transform$$1.invertY(extent[0][1])-translateExtent[0][1];extent=transform$$1.invertY(extent[1][1])-translateExtent[1][1];return transform$$1.translate(dx1>dx0?(dx0+dx1)/2:Math.min(0,dx0)||Math.max(0,dx1),extent>dy0?
(dy0+extent)/2:Math.min(0,dy0)||Math.max(0,extent))}Transform.prototype={constructor:Transform,scale:function(k){return 1===k?this:new Transform(this.k*k,this.x,this.y)},translate:function(x,y){return 0===x&0===y?this:new Transform(this.k,this.x+this.k*x,this.y+this.k*y)},apply:function(point){return[point[0]*this.k+this.x,point[1]*this.k+this.y]},applyX:function(x){return x*this.k+this.x},applyY:function(y){return y*this.k+this.y},invert:function(location){return[(location[0]-this.x)/this.k,(location[1]-
this.y)/this.k]},invertX:function(x){return(x-this.x)/this.k},invertY:function(y){return(y-this.y)/this.k},rescaleX:function(x){return x.copy().domain(x.range().map(this.invertX,this).map(x.invert,x))},rescaleY:function(y){return y.copy().domain(y.range().map(this.invertY,this).map(y.invert,y))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var identity=new Transform(1,0,0);transform$jscomp$0.prototype=Transform.prototype;exports.zoom=function(){function zoom(selection){selection.property("__zoom",
defaultTransform).on("wheel.zoom",wheeled).on("mousedown.zoom",mousedowned).on("dblclick.zoom",dblclicked).filter(touchable).on("touchstart.zoom",touchstarted).on("touchmove.zoom",touchmoved).on("touchend.zoom touchcancel.zoom",touchended).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function scale(transform$$1,k){k=Math.max(scaleExtent[0],Math.min(scaleExtent[1],k));return k===transform$$1.k?transform$$1:new Transform(k,transform$$1.x,transform$$1.y)}function translate(transform$$1,
p0,p1){var x=p0[0]-p1[0]*transform$$1.k;p0=p0[1]-p1[1]*transform$$1.k;return x===transform$$1.x&&p0===transform$$1.y?transform$$1:new Transform(transform$$1.k,x,p0)}function centroid(extent){return[(+extent[0][0]+ +extent[1][0])/2,(+extent[0][1]+ +extent[1][1])/2]}function schedule(transition,transform$$1,center){transition.on("start.zoom",function(){gesture(this,arguments).start()}).on("interrupt.zoom end.zoom",function(){gesture(this,arguments).end()}).tween("zoom",function(){var args=arguments,
g=gesture(this,args),e=extent$jscomp$0.apply(this,args),p=center||centroid(e),w=Math.max(e[1][0]-e[0][0],e[1][1]-e[0][1]);e=this.__zoom;var b="function"===typeof transform$$1?transform$$1.apply(this,args):transform$$1,i=interpolate(e.invert(p).concat(w/e.k),b.invert(p).concat(w/b.k));return function(t){if(1===t)t=b;else{t=i(t);var k=w/t[2];t=new Transform(k,p[0]-t[0]*k,p[1]-t[1]*k)}g.zoom(null,t)}})}function gesture(that,args){for(var i=0,n=gestures.length,g;i<n;++i)if((g=gestures[i]).that===that)return g;
return new Gesture(that,args)}function Gesture(that,args){this.that=that;this.args=args;this.index=-1;this.active=0;this.extent=extent$jscomp$0.apply(that,args)}function wheeled(){if(filter.apply(this,arguments)){var g=gesture(this,arguments),t=this.__zoom,k=Math.max(scaleExtent[0],Math.min(scaleExtent[1],t.k*Math.pow(2,wheelDelta.apply(this,arguments)))),p=d3Selection.mouse(this);if(g.wheel){if(g.mouse[0][0]!==p[0]||g.mouse[0][1]!==p[1])g.mouse[1]=t.invert(g.mouse[0]=p);clearTimeout(g.wheel)}else{if(t.k===
k)return;g.mouse=[p,t.invert(p)];d3Transition.interrupt(this);g.start()}noevent();g.wheel=setTimeout(function(){g.wheel=null;g.end()},150);g.zoom("mouse",constrain(translate(scale(t,k),g.mouse[0],g.mouse[1]),g.extent,translateExtent))}}function mousedowned(){if(!touchending&&filter.apply(this,arguments)){var g=gesture(this,arguments),v=d3Selection.select(d3Selection.event.view).on("mousemove.zoom",function(){noevent();if(!g.moved){var dx=d3Selection.event.clientX-x0,dy=d3Selection.event.clientY-y0;
g.moved=dx*dx+dy*dy>clickDistance2}g.zoom("mouse",constrain(translate(g.that.__zoom,g.mouse[0]=d3Selection.mouse(g.that),g.mouse[1]),g.extent,translateExtent))},!0).on("mouseup.zoom",function(){v.on("mousemove.zoom mouseup.zoom",null);d3Drag.dragEnable(d3Selection.event.view,g.moved);noevent();g.end()},!0),p=d3Selection.mouse(this),x0=d3Selection.event.clientX,y0=d3Selection.event.clientY;d3Drag.dragDisable(d3Selection.event.view);d3Selection.event.stopImmediatePropagation();g.mouse=[p,this.__zoom.invert(p)];
d3Transition.interrupt(this);g.start()}}function dblclicked(){if(filter.apply(this,arguments)){var t0=this.__zoom,p0=d3Selection.mouse(this),p1=t0.invert(p0);t0=constrain(translate(scale(t0,t0.k*(d3Selection.event.shiftKey?.5:2)),p0,p1),extent$jscomp$0.apply(this,arguments),translateExtent);noevent();0<duration?d3Selection.select(this).transition().duration(duration).call(schedule,t0,p0):d3Selection.select(this).call(zoom.transform,t0)}}function touchstarted(){if(filter.apply(this,arguments)){var g=
gesture(this,arguments),touches=d3Selection.event.changedTouches,n=touches.length,i;d3Selection.event.stopImmediatePropagation();for(i=0;i<n;++i){var t=touches[i];var p=d3Selection.touch(this,touches,t.identifier);p=[p,this.__zoom.invert(p),t.identifier];if(g.touch0)g.touch1||(g.touch1=p);else{g.touch0=p;var started=!0}}if(touchstarting&&(touchstarting=clearTimeout(touchstarting),!g.touch1)){g.end();(p=d3Selection.select(this).on("dblclick.zoom"))&&p.apply(this,arguments);return}started&&(touchstarting=
setTimeout(function(){touchstarting=null},500),d3Transition.interrupt(this),g.start())}}function touchmoved(){var g=gesture(this,arguments),touches=d3Selection.event.changedTouches,n=touches.length,i;noevent();touchstarting&&(touchstarting=clearTimeout(touchstarting));for(i=0;i<n;++i){var t=touches[i];var p=d3Selection.touch(this,touches,t.identifier);g.touch0&&g.touch0[2]===t.identifier?g.touch0[0]=p:g.touch1&&g.touch1[2]===t.identifier&&(g.touch1[0]=p)}t=g.that.__zoom;if(g.touch1){p=g.touch0[0];
touches=g.touch0[1];i=g.touch1[0];n=g.touch1[1];var l=(l=i[0]-p[0])*l+(l=i[1]-p[1])*l;var dl=(dl=n[0]-touches[0])*dl+(dl=n[1]-touches[1])*dl;t=scale(t,Math.sqrt(l/dl));p=[(p[0]+i[0])/2,(p[1]+i[1])/2];l=[(touches[0]+n[0])/2,(touches[1]+n[1])/2]}else if(g.touch0)p=g.touch0[0],l=g.touch0[1];else return;g.zoom("touch",constrain(translate(t,p,l),g.extent,translateExtent))}function touchended(){var g=gesture(this,arguments),touches=d3Selection.event.changedTouches,n=touches.length,i;d3Selection.event.stopImmediatePropagation();
touchending&&clearTimeout(touchending);touchending=setTimeout(function(){touchending=null},500);for(i=0;i<n;++i){var t=touches[i];g.touch0&&g.touch0[2]===t.identifier?delete g.touch0:g.touch1&&g.touch1[2]===t.identifier&&delete g.touch1}g.touch1&&!g.touch0&&(g.touch0=g.touch1,delete g.touch1);g.touch0?g.touch0[1]=this.__zoom.invert(g.touch0[0]):g.end()}var filter=defaultFilter,extent$jscomp$0=defaultExtent,constrain=defaultConstrain,wheelDelta=defaultWheelDelta,touchable=defaultTouchable,scaleExtent=
[0,Infinity],translateExtent=[[-Infinity,-Infinity],[Infinity,Infinity]],duration=250,interpolate=d3Interpolate.interpolateZoom,gestures=[],listeners=d3Dispatch.dispatch("start","zoom","end"),touchstarting,touchending,clickDistance2=0;zoom.transform=function(collection,transform$$1){var selection=collection.selection?collection.selection():collection;selection.property("__zoom",defaultTransform);collection!==selection?schedule(collection,transform$$1):selection.interrupt().each(function(){gesture(this,
arguments).start().zoom(null,"function"===typeof transform$$1?transform$$1.apply(this,arguments):transform$$1).end()})};zoom.scaleBy=function(selection,k){zoom.scaleTo(selection,function(){var k0=this.__zoom.k,k1="function"===typeof k?k.apply(this,arguments):k;return k0*k1})};zoom.scaleTo=function(selection,k){zoom.transform(selection,function(){var e=extent$jscomp$0.apply(this,arguments),t0=this.__zoom,p0=centroid(e),p1=t0.invert(p0),k1="function"===typeof k?k.apply(this,arguments):k;return constrain(translate(scale(t0,
k1),p0,p1),e,translateExtent)})};zoom.translateBy=function(selection,x,y){zoom.transform(selection,function(){return constrain(this.__zoom.translate("function"===typeof x?x.apply(this,arguments):x,"function"===typeof y?y.apply(this,arguments):y),extent$jscomp$0.apply(this,arguments),translateExtent)})};zoom.translateTo=function(selection,x,y){zoom.transform(selection,function(){var e=extent$jscomp$0.apply(this,arguments),t=this.__zoom,p=centroid(e);return constrain(identity.translate(p[0],p[1]).scale(t.k).translate("function"===
typeof x?-x.apply(this,arguments):-x,"function"===typeof y?-y.apply(this,arguments):-y),e,translateExtent)})};Gesture.prototype={start:function(){1===++this.active&&(this.index=gestures.push(this)-1,this.emit("start"));return this},zoom:function(key,transform$$1){this.mouse&&"mouse"!==key&&(this.mouse[1]=transform$$1.invert(this.mouse[0]));this.touch0&&"touch"!==key&&(this.touch0[1]=transform$$1.invert(this.touch0[0]));this.touch1&&"touch"!==key&&(this.touch1[1]=transform$$1.invert(this.touch1[0]));
this.that.__zoom=transform$$1;this.emit("zoom");return this},end:function(){0===--this.active&&(gestures.splice(this.index,1),this.index=-1,this.emit("end"));return this},emit:function(type){d3Selection.customEvent(new ZoomEvent(zoom,type,this.that.__zoom),listeners.apply,listeners,[type,this.that,this.args])}};zoom.wheelDelta=function(_){return arguments.length?(wheelDelta="function"===typeof _?_:constant(+_),zoom):wheelDelta};zoom.filter=function(_){return arguments.length?(filter="function"===
typeof _?_:constant(!!_),zoom):filter};zoom.touchable=function(_){return arguments.length?(touchable="function"===typeof _?_:constant(!!_),zoom):touchable};zoom.extent=function(_){return arguments.length?(extent$jscomp$0="function"===typeof _?_:constant([[+_[0][0],+_[0][1]],[+_[1][0],+_[1][1]]]),zoom):extent$jscomp$0};zoom.scaleExtent=function(_){return arguments.length?(scaleExtent[0]=+_[0],scaleExtent[1]=+_[1],zoom):[scaleExtent[0],scaleExtent[1]]};zoom.translateExtent=function(_){return arguments.length?
(translateExtent[0][0]=+_[0][0],translateExtent[1][0]=+_[1][0],translateExtent[0][1]=+_[0][1],translateExtent[1][1]=+_[1][1],zoom):[[translateExtent[0][0],translateExtent[0][1]],[translateExtent[1][0],translateExtent[1][1]]]};zoom.constrain=function(_){return arguments.length?(constrain=_,zoom):constrain};zoom.duration=function(_){return arguments.length?(duration=+_,zoom):duration};zoom.interpolate=function(_){return arguments.length?(interpolate=_,zoom):interpolate};zoom.on=function(){var value=
listeners.on.apply(listeners,arguments);return value===listeners?zoom:value};zoom.clickDistance=function(_){return arguments.length?(clickDistance2=(_=+_)*_,zoom):Math.sqrt(clickDistance2)};return zoom};exports.zoomTransform=transform$jscomp$0;exports.zoomIdentity=identity;Object.defineProperty(exports,"__esModule",{value:!0})})}
//# sourceMappingURL=module$node_modules$d3_zoom$dist$d3_zoom.js.map
