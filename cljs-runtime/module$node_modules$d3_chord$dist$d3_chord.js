shadow$provide.module$node_modules$d3_chord$dist$d3_chord=function(global$jscomp$0,require,module,exports$jscomp$0){(function(global,factory){"object"===typeof exports$jscomp$0&&"undefined"!==typeof module?factory(exports$jscomp$0,require("module$node_modules$d3_array$dist$d3_array"),require("module$node_modules$d3_path$dist$d3_path")):"function"===typeof define&&define.amd?define(["exports","d3-array","d3-path"],factory):factory(global.d3=global.d3||{},global.d3,global.d3)})(this,function(exports,
d3Array,d3Path){function compareValue(compare){return function(a,b){return compare(a.source.value+a.target.value,b.source.value+b.target.value)}}function constant(x){return function(){return x}}function defaultSource(d){return d.source}function defaultTarget(d){return d.target}function defaultRadius(d){return d.radius}function defaultStartAngle(d){return d.startAngle}function defaultEndAngle(d){return d.endAngle}var cos=Math.cos,sin=Math.sin,pi=Math.PI,halfPi=pi/2,tau=2*pi,max=Math.max,slice=Array.prototype.slice;
exports.chord=function(){function chord(matrix){var n=matrix.length,groupSums=[],groupIndex=d3Array.range(n),subgroupIndex=[],chords=[],groups=chords.groups=Array(n),subgroups=Array(n*n),i$jscomp$0,j;var k=0;for(i$jscomp$0=-1;++i$jscomp$0<n;){var x=0;for(j=-1;++j<n;)x+=matrix[i$jscomp$0][j];groupSums.push(x);subgroupIndex.push(d3Array.range(n));k+=x}sortGroups&&groupIndex.sort(function(a,b){return sortGroups(groupSums[a],groupSums[b])});sortSubgroups&&subgroupIndex.forEach(function(d,i){d.sort(function(a,
b){return sortSubgroups(matrix[i][a],matrix[i][b])})});var dx=(k=max(0,tau-padAngle*n)/k)?padAngle:tau/n;x=0;for(i$jscomp$0=-1;++i$jscomp$0<n;){var x0=x;for(j=-1;++j<n;){var di=groupIndex[i$jscomp$0],dj=subgroupIndex[di][j],v=matrix[di][dj],a0=x,a1=x+=v*k;subgroups[dj*n+di]={index:di,subindex:dj,startAngle:a0,endAngle:a1,value:v}}groups[di]={index:di,startAngle:x0,endAngle:x,value:groupSums[di]};x+=dx}for(i$jscomp$0=-1;++i$jscomp$0<n;)for(j=i$jscomp$0-1;++j<n;)groupIndex=subgroups[j*n+i$jscomp$0],
subgroupIndex=subgroups[i$jscomp$0*n+j],(groupIndex.value||subgroupIndex.value)&&chords.push(groupIndex.value<subgroupIndex.value?{source:subgroupIndex,target:groupIndex}:{source:groupIndex,target:subgroupIndex});return sortChords?chords.sort(sortChords):chords}var padAngle=0,sortGroups=null,sortSubgroups=null,sortChords=null;chord.padAngle=function(_){return arguments.length?(padAngle=max(0,_),chord):padAngle};chord.sortGroups=function(_){return arguments.length?(sortGroups=_,chord):sortGroups};
chord.sortSubgroups=function(_){return arguments.length?(sortSubgroups=_,chord):sortSubgroups};chord.sortChords=function(_){return arguments.length?(null==_?sortChords=null:(sortChords=compareValue(_))._=_,chord):sortChords&&sortChords._};return chord};exports.ribbon=function(){function ribbon(){var buffer,argv=slice.call(arguments),s=source.apply(this,argv),t=target.apply(this,argv);s=+radius.apply(this,(argv[0]=s,argv));var sa0=startAngle.apply(this,argv)-halfPi,sa1=endAngle.apply(this,argv)-halfPi,
sx0=s*cos(sa0),sy0=s*sin(sa0);t=+radius.apply(this,(argv[0]=t,argv));var ta0=startAngle.apply(this,argv)-halfPi;argv=endAngle.apply(this,argv)-halfPi;context||(context=buffer=d3Path.path());context.moveTo(sx0,sy0);context.arc(0,0,s,sa0,sa1);if(sa0!==ta0||sa1!==argv)context.quadraticCurveTo(0,0,t*cos(ta0),t*sin(ta0)),context.arc(0,0,t,ta0,argv);context.quadraticCurveTo(0,0,sx0,sy0);context.closePath();if(buffer)return context=null,buffer+""||null}var source=defaultSource,target=defaultTarget,radius=
defaultRadius,startAngle=defaultStartAngle,endAngle=defaultEndAngle,context=null;ribbon.radius=function(_){return arguments.length?(radius="function"===typeof _?_:constant(+_),ribbon):radius};ribbon.startAngle=function(_){return arguments.length?(startAngle="function"===typeof _?_:constant(+_),ribbon):startAngle};ribbon.endAngle=function(_){return arguments.length?(endAngle="function"===typeof _?_:constant(+_),ribbon):endAngle};ribbon.source=function(_){return arguments.length?(source=_,ribbon):source};
ribbon.target=function(_){return arguments.length?(target=_,ribbon):target};ribbon.context=function(_){return arguments.length?(context=null==_?null:_,ribbon):context};return ribbon};Object.defineProperty(exports,"__esModule",{value:!0})})}
//# sourceMappingURL=module$node_modules$d3_chord$dist$d3_chord.js.map
